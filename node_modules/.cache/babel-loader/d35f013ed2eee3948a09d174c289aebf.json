{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _1 = require(\"./\");\n\nvar MapSchema_1 = require(\"./types/MapSchema\");\n\nvar ArraySchema_1 = require(\"./types/ArraySchema\");\n\nfunction dumpChanges(schema) {\n  var dump = {};\n  var $changes = schema.$changes;\n  var fieldsByIndex = schema['_fieldsByIndex'] || {};\n\n  for (var _i = 0, _a = Array.from($changes.changes); _i < _a.length; _i++) {\n    var fieldIndex = _a[_i];\n    var field = fieldsByIndex[fieldIndex] || fieldIndex;\n\n    if (schema[field] instanceof MapSchema_1.MapSchema || schema[field] instanceof ArraySchema_1.ArraySchema || schema[field] instanceof _1.Schema) {\n      dump[field] = dumpChanges(schema[field]);\n    } else {\n      dump[field] = schema[field];\n    }\n  }\n\n  return dump;\n}\n\nexports.dumpChanges = dumpChanges;","map":{"version":3,"sources":["../src/utils.ts"],"names":[],"mappings":";;;;;;AAAA,IAAA,EAAA,GAAA,OAAA,CAAA,IAAA,CAAA;;AAEA,IAAA,WAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AACA,IAAA,aAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AAEA,SAAgB,WAAhB,CAA4B,MAA5B,EAA0C;AACtC,MAAM,IAAI,GAAG,EAAb;AAEA,MAAM,QAAQ,GAAgB,MAAc,CAAC,QAA7C;AACA,MAAM,aAAa,GAAG,MAAM,CAAC,gBAAD,CAAN,IAA4B,EAAlD;;AAEA,OAAyB,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,KAAK,CAAC,IAAN,CAAW,QAAQ,CAAC,OAApB,CAAzB,EAAyB,EAAA,GAAA,EAAA,CAAA,MAAzB,EAAyB,EAAA,EAAzB,EAAuD;AAAlD,QAAM,UAAU,GAAA,EAAA,CAAA,EAAA,CAAhB;AACD,QAAM,KAAK,GAAG,aAAa,CAAC,UAAD,CAAb,IAA6B,UAA3C;;AAEA,QACI,MAAM,CAAC,KAAD,CAAN,YAAyB,WAAA,CAAA,SAAzB,IACA,MAAM,CAAC,KAAD,CAAN,YAAyB,aAAA,CAAA,WADzB,IAEA,MAAM,CAAC,KAAD,CAAN,YAAyB,EAAA,CAAA,MAH7B,EAIE;AACE,MAAA,IAAI,CAAC,KAAD,CAAJ,GAAc,WAAW,CAAC,MAAM,CAAC,KAAD,CAAP,CAAzB;AAEH,KAPD,MAOO;AACH,MAAA,IAAI,CAAC,KAAD,CAAJ,GAAc,MAAM,CAAC,KAAD,CAApB;AACH;AAEJ;;AAED,SAAO,IAAP;AACH;;AAvBD,OAAA,CAAA,WAAA,GAAA,WAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\"./\");\nvar MapSchema_1 = require(\"./types/MapSchema\");\nvar ArraySchema_1 = require(\"./types/ArraySchema\");\nfunction dumpChanges(schema) {\n    var dump = {};\n    var $changes = schema.$changes;\n    var fieldsByIndex = schema['_fieldsByIndex'] || {};\n    for (var _i = 0, _a = Array.from($changes.changes); _i < _a.length; _i++) {\n        var fieldIndex = _a[_i];\n        var field = fieldsByIndex[fieldIndex] || fieldIndex;\n        if (schema[field] instanceof MapSchema_1.MapSchema ||\n            schema[field] instanceof ArraySchema_1.ArraySchema ||\n            schema[field] instanceof _1.Schema) {\n            dump[field] = dumpChanges(schema[field]);\n        }\n        else {\n            dump[field] = schema[field];\n        }\n    }\n    return dump;\n}\nexports.dumpChanges = dumpChanges;\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}