{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar EventEmitter =\n/** @class */\nfunction () {\n  function EventEmitter() {\n    this.handlers = [];\n  }\n\n  EventEmitter.prototype.register = function (cb, once) {\n    if (once === void 0) {\n      once = false;\n    }\n\n    this.handlers.push(cb);\n    return this;\n  };\n\n  EventEmitter.prototype.invoke = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    this.handlers.forEach(function (handler) {\n      return handler.apply(void 0, args);\n    });\n  };\n\n  EventEmitter.prototype.invokeAsync = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return Promise.all(this.handlers.map(function (handler) {\n      return handler.apply(void 0, args);\n    }));\n  };\n\n  EventEmitter.prototype.remove = function (cb) {\n    var index = this.handlers.indexOf(cb);\n    this.handlers[index] = this.handlers[this.handlers.length - 1];\n    this.handlers.pop();\n  };\n\n  EventEmitter.prototype.clear = function () {\n    this.handlers = [];\n  };\n\n  return EventEmitter;\n}();\n\nexports.EventEmitter = EventEmitter;\n\nfunction createSignal() {\n  var emitter = new EventEmitter();\n\n  function register(cb) {\n    return emitter.register(cb, this === null);\n  }\n\n  ;\n\n  register.once = function (cb) {\n    var callback = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      cb.apply(void 0, args);\n      emitter.remove(callback);\n    };\n\n    emitter.register(callback);\n  };\n\n  register.remove = function (cb) {\n    return emitter.remove(cb);\n  };\n\n  register.invoke = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return emitter.invoke.apply(emitter, args);\n  };\n\n  register.invokeAsync = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return emitter.invokeAsync.apply(emitter, args);\n  };\n\n  register.clear = function () {\n    return emitter.clear();\n  };\n\n  return register;\n}\n\nexports.createSignal = createSignal;","map":{"version":3,"sources":["/Users/bacchus/git/Leap/node_modules/strong-events/lib/index.js"],"names":["Object","defineProperty","exports","value","EventEmitter","handlers","prototype","register","cb","once","push","invoke","args","_i","arguments","length","forEach","handler","apply","invokeAsync","Promise","all","map","remove","index","indexOf","pop","clear","createSignal","emitter","callback"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter = /** @class */ (function () {\n    function EventEmitter() {\n        this.handlers = [];\n    }\n    EventEmitter.prototype.register = function (cb, once) {\n        if (once === void 0) { once = false; }\n        this.handlers.push(cb);\n        return this;\n    };\n    EventEmitter.prototype.invoke = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.handlers.forEach(function (handler) { return handler.apply(void 0, args); });\n    };\n    EventEmitter.prototype.invokeAsync = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Promise.all(this.handlers.map(function (handler) { return handler.apply(void 0, args); }));\n    };\n    EventEmitter.prototype.remove = function (cb) {\n        var index = this.handlers.indexOf(cb);\n        this.handlers[index] = this.handlers[this.handlers.length - 1];\n        this.handlers.pop();\n    };\n    EventEmitter.prototype.clear = function () {\n        this.handlers = [];\n    };\n    return EventEmitter;\n}());\nexports.EventEmitter = EventEmitter;\nfunction createSignal() {\n    var emitter = new EventEmitter();\n    function register(cb) {\n        return emitter.register(cb, this === null);\n    }\n    ;\n    register.once = function (cb) {\n        var callback = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            cb.apply(void 0, args);\n            emitter.remove(callback);\n        };\n        emitter.register(callback);\n    };\n    register.remove = function (cb) { return emitter.remove(cb); };\n    register.invoke = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return emitter.invoke.apply(emitter, args);\n    };\n    register.invokeAsync = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return emitter.invokeAsync.apply(emitter, args);\n    };\n    register.clear = function () { return emitter.clear(); };\n    return register;\n}\nexports.createSignal = createSignal;\n"]},"metadata":{},"sourceType":"script"}